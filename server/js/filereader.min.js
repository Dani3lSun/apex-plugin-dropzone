!function(e,t){function n(t){var n=e.URL||e.webkitURL,a=e.Blob,r=e.Worker;if(!(n&&a&&r&&t))return null;var o=new a([t]),s=new r(n.createObjectURL(o));return s}function a(e,t){function n(e){for(var t=[],n=e.clipboardData||{},r=n.items||[],o=0;o<r.length;o++){var s=r[o].getAsFile();if(s){var i=new RegExp("/(.*)").exec(s.type);if(!s.name&&i){var u=i[1];s.name="clipboard"+o+"."+u}t.push(s)}}t.length&&(d(e,t,a),e.preventDefault(),e.stopPropagation())}if(E.enabled){var a=c(c({},E.opts),t);e.addEventListener("paste",n,!1)}}function r(e,t){function n(t){d(t,e.files,r)}function a(e){e.stopPropagation(),e.preventDefault(),d(e,e.dataTransfer.files,r)}if(E.enabled){var r=c(c({},E.opts),t);e.addEventListener("change",n,!1),e.addEventListener("drop",a,!1)}}function o(e,n){function a(e){b=!1}function r(e){b=!0}function o(e){e.dataTransfer.files&&e.dataTransfer.files.length&&(e.stopPropagation(),e.preventDefault())}function s(e){return function(){b||e.apply(this,arguments)}}function i(t){t.stopPropagation(),t.preventDefault(),h&&g(e,h),d(t,t.dataTransfer.files,v)}function u(t){t.stopPropagation(),t.preventDefault(),h&&p(e,h)}function f(t){h&&g(e,h)}function l(t){t.stopPropagation(),t.preventDefault(),h&&p(e,h)}if(E.enabled){var v=c(c({},E.opts),n),h=v.dragClass,b=!1;e.addEventListener("dragenter",s(u),!1),e.addEventListener("dragleave",s(f),!1),e.addEventListener("dragover",s(l),!1),e.addEventListener("drop",s(i),!1),t.body.addEventListener("dragstart",r,!0),t.body.addEventListener("dragend",a,!0),t.body.addEventListener("drop",o,!1)}}function s(e,t){for(var n=0;n<e.length;n++){var a=e[n];a.extra={nameNoExtension:a.name.substring(0,a.name.lastIndexOf(".")),extension:a.name.substring(a.name.lastIndexOf(".")+1),fileID:n,uniqueID:L(),groupID:t,prettySize:v(a.size)}}}function i(e,t,n){for(var a in t)if(e.match(new RegExp(a)))return"readAs"+t[a];return"readAs"+n}function d(e,t,a){function r(){u.ended=new Date,a.on.groupend(u)}function o(){0===--d&&r()}var d=t.length,u={groupID:w(),files:t,started:new Date};if(E.output.push(u),s(t,u.groupID),a.on.groupstart(u),!t.length)return void r();var f,c=D&&b;c&&(f=n(x),f.onmessage=function(e){var t=e.data.file,n=e.data.result;t.extra||(t.extra=e.data.extra),t.extra.ended=new Date,a.on["error"===n?"error":"load"]({target:{result:n}},t),o()}),Array.prototype.forEach.call(t,function(t){if(t.extra.started=new Date,a.accept&&!t.type.match(new RegExp(a.accept)))return a.on.skip(t),void o();if(a.on.beforestart(t)===!1)return a.on.skip(t),void o();var n=i(t.type,a.readAsMap,a.readAsDefault);if(f)f.postMessage({file:t,extra:t.extra,readAs:n});else{var r=new h;r.originalEvent=e,y.forEach(function(e){r["on"+e]=function(n){"load"!=e&&"error"!=e||(t.extra.ended=new Date),a.on[e](n,t),"loadend"==e&&o()}}),r[n](t)}})}function u(){var e=n(m);e&&(e.onmessage=function(e){b=e.data},e.postMessage({}))}function f(){}function c(e,t){for(var n in t)t[n]&&t[n].constructor&&t[n].constructor===Object?(e[n]=e[n]||{},arguments.callee(e[n],t[n])):e[n]=t[n];return e}function l(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)}function p(e,t){l(e,t)||(e.className=e.className?[e.className,t].join(" "):t)}function g(e,t){if(l(e,t)){var n=e.className;e.className=n.replace(new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)","g")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}function v(e){var t=["bytes","kb","MB","GB","TB","PB"],n=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,Math.floor(n))).toFixed(2)+" "+t[n]}var h=e.FileReader,b=!1,x="self.addEventListener('message', function(e) { var data=e.data; try { var reader = new FileReaderSync; postMessage({ result: reader[data.readAs](data.file), extra: data.extra, file: data.file})} catch(e){ postMessage({ result:'error', extra:data.extra, file:data.file}); } }, false);",m="onmessage = function(e) { postMessage(!!FileReaderSync); };",y=["loadstart","progress","load","abort","error","loadend"],D=!1,E=e.FileReaderJS={enabled:!1,setupInput:r,setupDrop:o,setupClipboard:a,setSync:function(e){D=e,D&&!b&&u()},getSync:function(){return D&&b},output:[],opts:{dragClass:"drag",accept:!1,readAsDefault:"DataURL",readAsMap:{},on:{loadstart:f,progress:f,load:f,abort:f,error:f,loadend:f,skip:f,groupstart:f,groupend:f,beforestart:f}}};if("undefined"!=typeof jQuery&&(jQuery.fn.fileReaderJS=function(e){return this.each(function(){jQuery(this).is("input")?r(this,e):o(this,e)})},jQuery.fn.fileClipboard=function(e){return this.each(function(){a(this,e)})}),h){var w=function(e){return function(){return e++}}(0),L=function(e){return function(){return e++}}(0);E.enabled=!0}}(this,document);