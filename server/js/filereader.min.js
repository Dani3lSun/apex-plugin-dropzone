(function(f,u){function w(a){var b=f.URL||f.webkitURL,c=f.Blob,d=f.Worker;if(!(b&&c&&d&&a))return null;a=new c([a]);return new d(b.createObjectURL(a))}function x(a,b){function c(a){for(var b=[],c=(a.clipboardData||{}).items||[],g=0;g<c.length;g++){var k=c[g].getAsFile();if(k){var n=/\/(.*)/.exec(k.type);!k.name&&n&&(k.name="clipboard"+g+"."+n[1]);b.push(k)}}b.length&&(r(a,b,d),a.preventDefault(),a.stopPropagation())}if(l.enabled){var d=p(p({},l.opts),b);a.addEventListener("paste",c,!1)}}function y(a,
b){function c(b){r(b,a.files,q)}function d(a){a.stopPropagation();a.preventDefault();r(a,a.dataTransfer.files,q)}if(l.enabled){var q=p(p({},l.opts),b);a.addEventListener("change",c,!1);a.addEventListener("drop",d,!1)}}function z(a,b){function c(a){f=!1}function d(a){f=!0}function q(a){a.dataTransfer.files&&a.dataTransfer.files.length&&(a.stopPropagation(),a.preventDefault())}function e(a){return function(){f||a.apply(this,arguments)}}function h(b){b.stopPropagation();b.preventDefault();m&&A(a,m);
r(b,b.dataTransfer.files,B)}function g(b){b.stopPropagation();b.preventDefault();m&&C(a,m)}function k(b){m&&A(a,m)}function n(b){b.stopPropagation();b.preventDefault();m&&C(a,m)}if(l.enabled){var B=p(p({},l.opts),b),m=B.dragClass,f=!1;a.addEventListener("dragenter",e(g),!1);a.addEventListener("dragleave",e(k),!1);a.addEventListener("dragover",e(n),!1);a.addEventListener("drop",e(h),!1);u.body.addEventListener("dragstart",d,!0);u.body.addEventListener("dragend",c,!0);u.body.addEventListener("drop",
q,!1)}}function F(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=d,f=d.name.substring(0,d.name.lastIndexOf(".")),h=d.name.substring(d.name.lastIndexOf(".")+1),g=c,k=G(),d=d.size,n=Math.floor(Math.log(d)/Math.log(1024)),d=(d/Math.pow(1024,Math.floor(n))).toFixed(2)+" "+"bytes kb MB GB TB PB".split(" ")[n];e.extra={nameNoExtension:f,extension:h,fileID:g,uniqueID:k,groupID:b,prettySize:d}}}function H(a,b,c){for(var d in b)if(a.match(new RegExp(d)))return"readAs"+b[d];return"readAs"+c}function r(a,b,c){function d(){h.ended=
new Date;c.on.groupend(h)}function e(){0===--f&&d()}var f=b.length,h={groupID:I(),files:b,started:new Date};l.output.push(h);F(b,h.groupID);c.on.groupstart(h);if(b.length){var g;v&&t&&(g=w("self.addEventListener('message', function(e) { var data=e.data; try { var reader = new FileReaderSync; postMessage({ result: reader[data.readAs](data.file), extra: data.extra, file: data.file})} catch(e){ postMessage({ result:'error', extra:data.extra, file:data.file}); } }, false);"),g.onmessage=function(a){var b=
a.data.file,d=a.data.result;b.extra||(b.extra=a.data.extra);b.extra.ended=new Date;c.on["error"===d?"error":"load"]({target:{result:d}},b);e()});Array.prototype.forEach.call(b,function(b){b.extra.started=new Date;if(c.accept&&!b.type.match(new RegExp(c.accept)))c.on.skip(b),e();else if(!1===c.on.beforestart(b))c.on.skip(b),e();else{var d=H(b.type,c.readAsMap,c.readAsDefault);if(g)g.postMessage({file:b,extra:b.extra,readAs:d});else{var f=new D;f.originalEvent=a;J.forEach(function(a){f["on"+a]=function(d){if("load"==
a||"error"==a)b.extra.ended=new Date;c.on[a](d,b);"loadend"==a&&e()}});f[d](b)}}})}else d()}function K(){var a=w("onmessage = function(e) { postMessage(!!FileReaderSync); };");a&&(a.onmessage=function(a){t=a.data},a.postMessage({}))}function e(){}function p(a,b){for(var c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},arguments.callee(a[c],b[c])):a[c]=b[c];return a}function E(a,b){return(new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)")).test(a.className)}function C(a,b){E(a,b)||(a.className=
a.className?[a.className,b].join(" "):b)}function A(a,b){E(a,b)&&(a.className=a.className.replace(new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)","g")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""))}var D=f.FileReader,t=!1,J="loadstart progress load abort error loadend".split(" "),v=!1,l=f.FileReaderJS={enabled:!1,setupInput:y,setupDrop:z,setupClipboard:x,setSync:function(a){(v=a)&&!t&&K()},getSync:function(){return v&&t},output:[],opts:{dragClass:"drag",accept:!1,readAsDefault:"DataURL",readAsMap:{},on:{loadstart:e,
progress:e,load:e,abort:e,error:e,loadend:e,skip:e,groupstart:e,groupend:e,beforestart:e}}};"undefined"!==typeof jQuery&&(jQuery.fn.fileReaderJS=function(a){return this.each(function(){jQuery(this).is("input")?y(this,a):z(this,a)})},jQuery.fn.fileClipboard=function(a){return this.each(function(){x(this,a)})});if(D){var I=function(a){return function(){return a++}}(0),G=function(a){return function(){return a++}}(0);l.enabled=!0}})(this,document);
